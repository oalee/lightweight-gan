{
    "data": {
        "module": "data_loaders.cars",
        "class_name": "CarsLightningDataModule",
        "object_key": "data",
        "params": {
            "image_size": 128,
            "aug_prob": 0.5,
            "data_dir": "./data",
            "batch_size": 8
        }
    },
    "pytorch_lightning_module": {
        "module": "trainers.lightweight",
        "class_name": "LightningGanModule",
        "object_key": "pl_model",
        "params": {
            "save_dir": "{save_dir}",
            "sample_interval": 100,
            "generator": {
                "module": "models.lightweight.generator",
                "class_name": "Generator",
                "object_key": "generator",
                "params": {
                    "image_size": 128
                }
            },
            "discriminator": {
                "module": "models.lightweight.discriminator",
                "class_name": "Discriminator",
                "object_key": "discriminator",
                "params": {
                    "image_size": 128
                }
            },
            "optimizer": [
                {
                    "optimizer": {
                        "module": "torch.optim",
                        "class_name": "Adam",
                        "object_key": "optimizer",
                        "params": {
                            "lr": 0.00004,
                            "betas": [
                                0.5,
                                0.999
                            ],
                            "params": {
                                "function_call": "parameters",
                                "reference_key": "generator",
                                "params": {}
                            }
                        }
                    },
                    "lr_scheduler": {
                        "monitor": "fid",
                        "scheduler": {
                            "module": "torch.optim.lr_scheduler",
                            "class_name": "StepLR",
                            "params": {
                                "optimizer": "{optimizer}",
                                "step_size": 10,
                                "gamma": 0.1
                            }
                        }
                    }
                },
                {
                    "optimizer": {
                        "module": "torch.optim",
                        "class_name": "Adam",
                        "object_key": "optimizer_d",
                        "params": {
                            "lr": 0.00004,
                            "betas": [
                                0.5,
                                0.999
                            ],
                            "params": {
                                "function_call": "parameters",
                                "reference_key": "discriminator",
                                "params": {}
                            }
                        }
                    },
                    "lr_scheduler": {
                        "monitor": "fid",
                        "scheduler": {
                            "module": "torch.optim.lr_scheduler",
                            "class_name": "ReduceLROnPlateau",
                            "params": {
                                "optimizer": "{optimizer_d}",
                                "mode": "min",
                                "factor": 0.5,
                                "threshold": 1e-4,
                                "threshold_mode": "rel",
                                "patience": 5,
                                "verbose": true
                            }
                        }
                    }
                }
            ],
            "aug_types": [
                "translation",
                "cutout",
                "color",
                "offset"
            ],
            "aug_prob": 0.5
        }
    },
    "trainer": {
        "module": "pytorch_lightning",
        "class_name": "Trainer",
        "params": {
            "gpus": 1,
            "max_epochs": 100,
            "precision": 16,
            "gradient_clip_val": 0.5,
            "enable_checkpointing": true,
            "callbacks": [
                {
                    "module": "pytorch_lightning.callbacks",
                    "class_name": "ModelCheckpoint",
                    "params": {
                        "dirpath": "{save_dir}/checkpoints/",
                        "monitor": "fid",
                        "save_top_k": 1,
                        "verbose": true,
                        "save_last": true,
                        "mode": "min"
                    }
                }
            ],
            "logger": {
                "module": "pytorch_lightning.loggers",
                "class_name": "CSVLogger",
                "params": {
                    "save_dir": "./logs"
                }
            }
        },
        "method_args": [
            {
                "function": "fit",
                "params": {
                    "model": "{pl_model}",
                    "datamodule": "{data}"
                }
            },
            {
                "function": "test",
                "params": {
                    "model": "{pl_model}",
                    "datamodule": "{data}"
                }
            }
        ]
    }
}